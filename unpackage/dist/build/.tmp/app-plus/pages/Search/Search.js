(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Search/Search"],{"00aa":function(e,t,r){"use strict";(function(e){r("fad5"),r("921b");n(r("66fd"));var t=n(r("3356"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])},1320:function(e,t,r){"use strict";var n={"u-empty":function(){return Promise.all([r.e("common/vendor"),r.e("uview/components/u-empty/u-empty")]).then(r.bind(null,"f4ef"))}},a=function(){var e=this,t=e.$createElement;e._self._c},c=[];r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return n}))},3356:function(e,t,r){"use strict";r.r(t);var n=r("1320"),a=r("ae1c");for(var c in a)"default"!==c&&function(e){r.d(t,e,(function(){return a[e]}))}(c);r("a643");var o,i=r("f0c5"),s=Object(i["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);t["default"]=s.exports},"419e":function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(r("4795"));function c(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,a,c,o){try{var i=e[c](o),s=i.value}catch(u){return void r(u)}i.done?t(s):Promise.resolve(s).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function i(e){o(c,n,a,i,s,"next",e)}function s(e){o(c,n,a,i,s,"throw",e)}i(void 0)}))}}var s={onLoad:function(){this.initGetHotSearch(),this.getHistory()},onUnload:function(){e.hideKeyboard()},data:function(){return{searchText:"",searchMainShow:!0,animationData:{},refresh:!1,refreshFlag:!0,hotSearch:[],searchArr:[],searchHistoryArr:[]}},watch:{searchText:function(e){""==e.trim()&&(this.searchMainShow=!0)}},methods:{handleSearch:function(){this.searchMainShow=!1,this.handleHotSearch()},handleReAnimate:function(){var e=this;this.refreshFlag&&(this.refresh=!0,this.refreshFlag=!1,setTimeout((function(){e.refresh=!1,e.refreshFlag=!0}),1e3))},initGetHotSearch:function(){var e=this;return i(a.default.mark((function t(){var r;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$fetch(e.$api.getSearch,{},"GET","FORM");case 2:r=t.sent,n("log",r," at pages\\Search\\Search.vue:103"),e.hotSearch=r.data;case 5:case"end":return t.stop()}}),t)})))()},handleHotSearch:function(t){var r=this;return i(a.default.mark((function n(){var c;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t&&(r.searchText=t),n.next=3,r.$fetch(r.$api.setSearch,{content:r.searchText},"GET","FORM");case 3:c=n.sent,-1==r.searchHistoryArr.indexOf(r.searchText)&&(r.searchHistoryArr.push(r.searchText),e.setStorageSync("searchHistoryArr",JSON.stringify(r.searchHistoryArr))),r.searchArr=c.data,r.searchMainShow=!1;case 7:case"end":return n.stop()}}),n)})))()},getHistory:function(){e.getStorageSync("searchHistoryArr")&&(this.searchHistoryArr=JSON.parse(e.getStorageSync("searchHistoryArr")))},removeHistory:function(){var t=this;if(0==this.searchHistoryArr.length)return e.showToast({icon:"none",title:"暂无历史搜索记录"});e.showModal({title:"提示",content:"确定删除历史搜索记录么",success:function(r){r.confirm?(t.searchHistoryArr=[],e.removeStorageSync("searchHistoryArr")):r.cancel&&n("log","用户点击取消"," at pages\\Search\\Search.vue:146")}})},goToQuKan:function(t){e.setStorageSync("searchToQk",!0),e.navigateTo({url:"../QuKan/QuKan?id="+t})}}};t.default=s}).call(this,r("6e42")["default"],r("0de9")["default"])},a643:function(e,t,r){"use strict";var n=r("c2e2"),a=r.n(n);a.a},ae1c:function(e,t,r){"use strict";r.r(t);var n=r("419e"),a=r.n(n);for(var c in n)"default"!==c&&function(e){r.d(t,e,(function(){return n[e]}))}(c);t["default"]=a.a},c2e2:function(e,t,r){}},[["00aa","common/runtime","common/vendor"]]]);