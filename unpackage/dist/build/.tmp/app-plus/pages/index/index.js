(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0054":function(t,e,n){},"07f8":function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}))},"39e9":function(t,e,n){"use strict";(function(t){n("fad5"),n("921b");a(n("66fd"));var e=a(n("8738"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"5b14":function(t,e,n){"use strict";n.r(e);var a=n("bf2e"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},8738:function(t,e,n){"use strict";n.r(e);var a=n("07f8"),i=n("5b14");for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n("9c38"),n("9f50");var o,c=n("f0c5"),u=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"ae34e668",null,!1,a["a"],o);e["default"]=u.exports},"9c38":function(t,e,n){"use strict";var a=n("f89f"),i=n.n(a);i.a},"9f50":function(t,e,n){"use strict";var a=n("0054"),i=n.n(a);i.a},bf2e:function(t,e,n){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("4795"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return f(t)||s(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function l(t,e,n,a,i,r,o){try{var c=t[r](o),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(a,i)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function o(t){l(r,a,i,o,c,"next",t)}function c(t){l(r,a,i,o,c,"throw",t)}o(void 0)}))}}var h={data:function(){return{indexCenterList:["趣砍","抽奖活动","活动专区","大市场"],indexCenterList1:["充值","邀请赚钱","签到有礼","新手指引"],indexCenterListImage:["../../static/image/ych/index/indexcenter1.png","../../static/image/ych/index/indexcenter2.png","../../static/image/ych/index/indexcenter3.png","../../static/image/ych/index/indexcenter4.png","../../static/image/ych/index/indexcenter5.png","../../static/image/ych/index/indexcenter6.png","../../static/image/ych/index/indexcenter7.png","../../static/image/ych/index/indexcenter8.png"],indexCenterListImage1:["../../static/image/ych/index/indexcenter5.png","../../static/image/ych/index/indexcenter6.png","../../static/image/ych/index/indexcenter7.png","../../static/image/ych/index/indexcenter8.png"],hasFlag:!0,tabList:[],tabIndex:0,tabOffsetTop:0,pageScrollY:0,tabHeight:0,swiperMain:[],pageNum:0,pageSize:10,tabInfo:[],uniLoadMoreFlag:!1,QukaningShopArr:[],tabTopFlag:!1,tabListHeight:0,swiperFlag:!0,toChildId:"",QuKanMessageArr:[],qkTimer:null,kfPhone:""}},onLoad:function(){this.getSwiperMain(),this.QukaningShop(),this.getQuKanMessage(),this.getPhNum()},onShow:function(){this.getIndexInfo(),t.getStorageSync("token")&&this.getUserInfo(),this.getClip()},onPullDownRefresh:function(){this.tabIndex=0,this.pageNum=0,this.pageSize=10,this.hasFlag=!0,this.swiperFlag=!1,this.tabInfo=[],this.getIndexInfo(),t.stopPullDownRefresh()},mounted:function(){this.initTabOffsetTop()},onReachBottom:function(){this.getClassifyInfo()},methods:{getPhNum:function(){var t=this;return g(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch(t.$api.getPhonenumber,{},"GET","FORM");case 2:n=e.sent,a("log",n," at pages\\index\\index.vue:235"),t.kfPhone=n.msg;case 5:case"end":return e.stop()}}),e)})))()},goToSearch:function(){t.navigateTo({url:"../Search/Search"})},goToAtricle:function(e){t.navigateTo({url:"../article/article?id="+e})},handleCallPhone:function(){this.kfPhone?t.showModal({title:"我的客服",content:"客服电话："+this.kfPhone,success:function(e){e.confirm&&t.makePhoneCall({phoneNumber:"1388888888"})}}):t.showToast({icon:"none",title:"暂未开通"})},getClip:function(){var e=this;t.getClipboardData({success:function(){var n=g(i.default.mark((function n(r){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.clipMain=r.data,-1==r.data.indexOf("复制这条信息后打开APP以领取红包")){n.next=7;break}return t.setClipboardData({data:" ",success:function(){a("log","success"," at pages\\index\\index.vue:279")}}),n.next=5,e.$fetch(e.$api.checkActivityCode,{code:r.data},"GET","FORM");case 5:o=n.sent,o.data.jump&&t.navigateTo({url:"../ActivityArea/ActivityArea?code="+r.data});case 7:case"end":return n.stop()}}),n)})));function r(t){return n.apply(this,arguments)}return r}()})},goToNewBargin:function(){t.navigateTo({url:"../NewBargin/NewBargin"})},goToTopPage:function(e){0==e&&t.navigateTo({url:"../Bargaing/Bargaing"}),1==e&&t.navigateTo({url:"../Lottery/Lottery"}),2==e&&this.checkActivity(),3==e&&t.switchTab({url:"../Market/Market"})},goToBottomPage:function(e){0==e&&t.switchTab({url:"../Find/Find"}),1==e&&t.navigateTo({url:"../Invite/Invite"}),2==e&&t.navigateTo({url:"../Punch/Punch"}),3==e&&t.navigateTo({url:"../article/article?id=3"})},goToPopular:function(){t.navigateTo({url:"../PopularShop/PopularShop"})},goToQukan:function(e){a("log",e," at pages\\index\\index.vue:355"),t.navigateTo({url:"../QuKan/QuKan?id="+e})},goToClassify:function(){t.navigateTo({url:"../Bargaing/Bargaing"})},goToInvite:function(){t.navigateTo({url:"../Invite/Invite"})},getUserInfo:function(){var e=this;return g(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$fetch(e.$api.getUserInfo,{},"GET");case 2:a=n.sent,t.setStorageSync("MyUserId",a.data.userId);case 4:case"end":return n.stop()}}),n)})))()},handleTabIndex:function(t){this.tabIndex=t,this.pageNum=0,this.pageSize=10,this.hasFlag=!0,this.swiperFlag=!1,this.tabInfo=[],this.getClassifyInfo()},initTabOffsetTop:function(){var e=this,n=t.createSelectorQuery().in(this).select(".index-tabTitle");n.boundingClientRect((function(t){a("log",t," at pages\\index\\index.vue:393"),e.tabOffsetTop=Number(t.top).toFixed(2),a("log",e.tabOffsetTop," at pages\\index\\index.vue:395"),e.tabHeight=2*t.height+20})).exec()},goToTop:function(){t.pageScrollTo({scrollTop:this.tabOffsetTop-this.tabHeight,duration:500})},swiperChange:function(t){this.swiperFlag&&(this.tabIndex=t.detail.current,this.handleTabIndex(this.tabIndex))},getIndexInfo:function(){var t=this;return g(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch(t.$api.getIndex,{},"GET","FORM");case 2:n=e.sent,t.tabList=n.data.categoryList,n.data.qukanList.forEach((function(t){t.time="10"})),t.QukaningShopArr=n.data.qukanList.splice(0,3),t.cutdown(),t.getClassifyInfo();case 8:case"end":return e.stop()}}),e)})))()},getSwiperMain:function(){var t=this;return g(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch(t.$api.getPicasaList,{},"GET","FORM");case 2:n=e.sent,t.swiperMain=n.data;case 4:case"end":return e.stop()}}),e)})))()},getClassifyInfo:function(){var t=this;return g(i.default.mark((function e(){var n,r;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.hasFlag){e.next=2;break}return e.abrupt("return");case 2:return a("log",t.pageNum," at pages\\index\\index.vue:439"),t.pageNum=++t.pageNum,t.uniLoadMoreFlag=!0,a("log",t.tabList," at pages\\index\\index.vue:442"),e.next=8,t.$fetch(t.$api.getIndexQukanGoodsList,{pageNum:t.pageNum,pageSize:t.pageSize,id:t.tabList[t.tabIndex].id},"GET","FORM");case 8:n=e.sent,t.tabInfo=[].concat(o(t.tabInfo),o(n.rows)),0==t.tabInfo.length?(t.uniLoadMoreFlag=!0,t.tabListHeight="620rpx"):(r=t.tabInfo.length,t.uniLoadMoreFlag=!1,r%2==1&&(r+=1),t.pageNum>1?t.tabListHeight=r/2*640-r/2*10+"rpx":t.tabListHeight=r/2*640+"rpx"),t.tabInfo.forEach((function(t){t.childFlagId="childId"+t.id})),t.swiperFlag=!0,t.hasFlag=10*t.pageNum<n.total,a("log",t.hasFlag," at pages\\index\\index.vue:469"),t.toChildId=0==t.tabIndex?t.tabInfo[t.tabIndex].childFlagId:t.tabInfo[t.tabIndex-1].childFlagId;case 16:case"end":return e.stop()}}),e)})))()},QukaningShop:function(){return g(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},cutdown:function(){var t=this,e=this.$u.random(1,9),n=this.$u.random(1,9),a=this.$u.random(1,9),i=10,r=10,o=10;null!=this.qkTimer&&(clearInterval(this.qkTimer),this.qkTimer=null),this.qkTimer=setInterval((function(){t.QukaningShopArr.forEach((function(c,u){0==u?(i--,c.time="0"+i):1==u?(r--,c.time="0"+r):2==u&&(o--,c.time="0"+o),0==u&&i==e?(c.time="10",i=10,e=t.$u.random(1,9)):1==u&&r==n?(c.time="10",r=10,n=t.$u.random(1,9)):2==u&&o==a&&(c.time="10",o=10,a=t.$u.random(1,9))}))}),1e3)},checkActivity:function(){var e=this;return g(i.default.mark((function n(){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$fetch(e.$api.checkActivity,{},"GET");case 2:if(a=n.sent,500!=a.code){n.next=5;break}return n.abrupt("return",t.showToast({icon:"none",title:a.msg}));case 5:a.data.isNew?t.navigateTo({url:"../ActivityArea/ActivityArea"}):t.navigateTo({url:"../RandomRedBag/RandomRedBag"});case 6:case"end":return n.stop()}}),n)})))()},getQuKanMessage:function(){var t=this;return g(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch(t.$api.getRollMessage,{type:"2",count:""},"GET","FORM");case 2:n=e.sent,a("log",n," at pages\\index\\index.vue:543"),t.QuKanMessageArr=n.data;case 5:case"end":return e.stop()}}),e)})))()}},onPageScroll:function(t){this.pageScrollY=t.scrollTop,this.pageScrollY+100>this.tabOffsetTop?this.tabTopFlag=!0:this.tabTopFlag=!1}};e.default=h}).call(this,n("6e42")["default"],n("0de9")["default"])},f89f:function(t,e,n){}},[["39e9","common/runtime","common/vendor"]]]);